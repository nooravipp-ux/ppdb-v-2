{
    "sourceFile": "app/Http/Controllers/RegistrationController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 35,
            "patches": [
                {
                    "date": 1630314355623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1630317793070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n class RegistrationController extends Controller\r\n {\r\n     public function index(){\r\n         $register = DB::table('t_registration')\r\n-                    ->select('t_student.id','t_student.nama_lengkap','t_student.alamat','t_student.no_telp','t_student.nama_sekolah_asal', 't_registration.status')\r\n+                    ->select('t_student.id','t_student.nama_lengkap', 't_student.pilihan_jurusan', 't_student.alamat','t_student.no_telp','t_student.nama_sekolah_asal', 't_registration.status')\r\n                     ->join('t_student', 't_student.id','=', 't_registration.student_id')\r\n                     ->get();\r\n         return view('admin.registration', compact('register'));\r\n     }\r\n"
                },
                {
                    "date": 1630318080483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n+        // $pdf = ::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n         return $pdf->download('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630318523845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        // $pdf = ::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n         return $pdf->download('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630486804845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,9 +120,9 @@\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n         $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n-        return $pdf->download('formulir-ppdb.pdf');\r\n+        return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n         $register = DB::table('t_registration')\r\n"
                },
                {
                    "date": 1630774746033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true]);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630774802650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true]);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isRemoteEnabled' => true]);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630774836328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isRemoteEnabled' => true]);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isRemoteEnabled' => true]);\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630774853338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isRemoteEnabled' => true]);\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630774943861,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true]);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775065162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true]);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif',]);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775426895,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif',]);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))x;;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775433084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))x;;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775473846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true])->loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775506996,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true])->loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775512751,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775536157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true'defaultFont' => 'sans-serif']);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775550552,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true'defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->;;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775560180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->;;\r\n+        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true,'defaultFont' => 'sans-serif'])loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630775591061,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => true, 'isRemoteEnabled' => true,'defaultFont' => 'sans-serif'])loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776697701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions([set_option('enable_remote', TRUE);'defaultFont' => 'sans-serif']);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776711527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions([set_option('enable_remote', TRUE);'defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))-'defaultFont' => 'sans-serif']);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776720240,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))-'defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions([''defaultFont' => 'sans-serif']);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776726279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions([''defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['','defaultFont' => 'sans-serif']);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776735468,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['','defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote','defaultFont' => 'sans-serif']);;\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776741491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote','defaultFont' => 'sans-serif']);;\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote' =,'defaultFont' => 'sans-serif']);;. \r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776746884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote' =,'defaultFont' => 'sans-serif']);;. \r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote','defaultFont' => 'sans-serif']);\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776754759,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote','defaultFont' => 'sans-serif']);\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote'=> true,'defaultFont' => 'sans-serif']);\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776763330,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote'=> true,'defaultFont' => 'sans-serif']);\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote'=> TRUfaultFont' => 'sans-serif']);\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776769477,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote'=> TRUfaultFont' => 'sans-serif']);\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote'=> TRUE,'defaultFont' => 'sans-serif']);\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776780424,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['enable_remote'=> TRUE,'defaultFont' => 'sans-serif']);\r\n+        $pdf = PDF::loadView('student.download-formulir', compact('data');\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776787326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::loadView('student.download-formulir', compact('data');\r\n+        $pdf = PDF::->setOptions(['enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776793644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::->setOptions(['enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::setOptions(['enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])->loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776946414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::setOptions(['enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])->loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => true'enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])->loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776955616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => true'enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])->loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => TRUE,'enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])->loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                },
                {
                    "date": 1630776972011,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     }\r\n \r\n     public function downloadFormulir($param){\r\n         $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n-        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => TRUE,'enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])->loadView('student.download-formulir', compact('data'));\r\n+        $pdf = PDF::setOptions(['isHtml5ParserEnabled' => true,'enable_remote'=> TRUE,'defaultFont' => 'sans-serif'])->loadView('student.download-formulir', compact('data'));\r\n         return $pdf->stream('formulir-ppdb.pdf');\r\n     }\r\n \r\n     public function getDetailRegister($id){\r\n"
                }
            ],
            "date": 1630314355623,
            "name": "Commit-0",
            "content": "<?php\r\n\r\nnamespace App\\Http\\Controllers;\r\n\r\nuse Illuminate\\Http\\Request;\r\nuse App\\Models\\Registration;\r\nuse App\\Models\\Student;\r\nuse App\\Models\\User;\r\nuse Barryvdh\\DomPDF\\Facade as PDF;\r\nuse Illuminate\\Support\\Facades\\Hash;\r\nuse Illuminate\\Support\\Facades\\DB;\r\nuse App\\Mail\\RegistrationMailNotif;\r\nuse Illuminate\\Support\\Facades\\Mail;\r\n\r\nclass RegistrationController extends Controller\r\n{\r\n    public function index(){\r\n        $register = DB::table('t_registration')\r\n                    ->select('t_student.id','t_student.nama_lengkap','t_student.alamat','t_student.no_telp','t_student.nama_sekolah_asal', 't_registration.status')\r\n                    ->join('t_student', 't_student.id','=', 't_registration.student_id')\r\n                    ->get();\r\n        return view('admin.registration', compact('register'));\r\n    }\r\n\r\n    public function registrationStudent(){\r\n        return view('student.registration');\r\n    }\r\n\r\n    public function save(Request $req){\r\n        // dd($req->all());\r\n        // $validatedData = $req->validate([\r\n        //     'file_ijazah' => 'required|csv,txt,xlx,xls,pdf|max:2048',\r\n        //     'file_skhun' => 'required|csv,txt,xlx,xls,pdf|max:2048'\r\n        // ]);\r\n\r\n        $file_ijazah = $req->file('file_ijazah')->getClientOriginalName();\r\n        $file_skhun = $req->file('file_skhun')->getClientOriginalName();\r\n        $file_kk = $req->file('file_kk')->getClientOriginalName();\r\n        $file_akta = $req->file('file_akta')->getClientOriginalName();\r\n        $file_surat_kelulusan = $req->file('file_surat_kelulusan')->getClientOriginalName();\r\n            \r\n        $req->file('file_ijazah')->move('uploads', $req->file('file_ijazah')->getClientOriginalName());\r\n        $req->file('file_skhun')->move('uploads', $req->file('file_skhun')->getClientOriginalName());\r\n\r\n        $req->file('file_kk')->move('uploads', $req->file('file_kk')->getClientOriginalName());\r\n        $req->file('file_akta')->move('uploads', $req->file('file_akta')->getClientOriginalName());\r\n        $req->file('file_surat_kelulusan')->move('uploads', $req->file('file_surat_kelulusan')->getClientOriginalName());\r\n        \r\n\r\n        $student = Student::create(\r\n            ['nama_lengkap' => $req->nama_lengkap,\r\n            'nik_siswa' => $req->nik_siswa,\r\n            'tempat_lahir' => $req->tempat_lahir,\r\n            'tanggal_lahir' => $req->tanggal_lahir,\r\n            'no_registrasi_akta_lahir' => $req->no_registrasi_akta_lahir,\r\n            'anak_ke' => $req->anak_ke,\r\n            'jumlah_saudara_kandung' => $req->jumlah_saudara_kandung,\r\n            'jenis_kelamin' => $req->jenis_kelamin,\r\n            'agama' => $req->agama,\r\n            'email' => $req->email,\r\n            'no_telp' => $req->no_telp,\r\n            'alamat' => $req->alamat,\r\n            'kode_pos' => $req->kode_pos,\r\n            'nama_sekolah_asal' => $req->nama_sekolah_asal,\r\n            'alamat_sekolah' => $req->alamat_sekolah,\r\n            'no_induk_siswa_nasional' => $req->no_induk_siswa_nasional,\r\n            'no_peserta_ujian_nasional' => $req->no_peserta_ujian_nasional,\r\n            'tahun_ijazah' => $req->tahun_ijazah,\r\n            'no_seri_ijazah' => $req->no_seri_ijazah,\r\n            'no_seri_skhun' => $req->no_seri_skhun,\r\n            'nama_ayah' => $req->nama_ayah,\r\n            'nik_ayah' => $req->nik_ayah,\r\n            'tempat_lahir_ayah' => $req->tempat_lahir_ayah,\r\n            'tanggal_lahir_ayah' => $req->tanggal_lahir_ayah,\r\n            'pendidikan_ayah' => $req->pendidikan_ayah,\r\n            'pekerjaan_ayah' => $req->pekerjaan_ayah,\r\n            'penghasilan_ayah' => $req->penghasilan_ayah,\r\n            'nama_ibu' => $req->nama_ibu,\r\n            'nik_ibu' => $req->nik_ibu,\r\n            'tempat_lahir_ibu' => $req->tempat_lahir_ibu,\r\n            'tanggal_lahir_ibu' => $req->tanggal_lahir_ibu,\r\n            'pendidikan_ibu' => $req->pendidikan_ibu,\r\n            'pekerjaan_ibu' => $req->pekerjaan_ibu,\r\n            'penghasilan_ibu' => $req->penghasilan_ibu,\r\n            'alamat_ortu' => $req->alamat_ortu,\r\n            'kode_pos_ortu' => $req->kode_pos_ortu,\r\n            'no_telp_ortu' => $req->no_telp_ortu,\r\n            'nama_wali' => $req->nama_wali,\r\n            'pekerjaan_wali' => $req->pekerjaan_wali,\r\n            'penghasilan_wali' => $req->penghasilan_wali,\r\n            'alamat_wali' => $req->alamat_wali,\r\n            'kode_pos_wali' => $req->kode_pos_wali,\r\n            'hub_dengan_peserta_didik' => $req->hub_dengan_peserta_didik,\r\n            'jarak_rumah_ke_sekolah' => $req->jarak_rumah_ke_sekolah,\r\n            'transportasi' => $req->transportasi,\r\n            'berat_badan' => $req->berat_badan,\r\n            'tinggi_badan' => $req->tinggi_badan,\r\n            'riwayat_penyakit' => $req->riwayat_penyakit,\r\n            'file_ijazah' => $file_ijazah,\r\n            'file_skhun' => $file_skhun,\r\n            'file_kk' => $file_kk,\r\n            'file_akta' => $file_akta,\r\n            'file_surat_kelulusan' => $file_surat_kelulusan,\r\n            'pilihan_jurusan' => $req->pilihan_jurusan,\r\n            'no_kk' => $req->no_kk,\r\n            'gol_darah' => $req->gol_darah\r\n            ]\r\n        );\r\n\r\n        Registration::create([\r\n            'student_id' => $student->id\r\n        ]);\r\n\r\n        return redirect()->route('success', ['param' => $req->no_induk_siswa_nasional]);\r\n    }\r\n\r\n    public function registrationSuccess($nisn){\r\n        return view('registsuccess', compact('nisn'));\r\n    }\r\n\r\n    public function downloadFormulir($param){\r\n        $data = DB::table('t_student')->where('no_induk_siswa_nasional', $param)->first();\r\n        $pdf = PDF::loadView('student.download-formulir', compact('data'))->setOptions(['defaultFont' => 'sans-serif']);;\r\n        return $pdf->download('formulir-ppdb.pdf');\r\n    }\r\n\r\n    public function getDetailRegister($id){\r\n        $register = DB::table('t_registration')\r\n                    ->join('t_student', 't_student.id','=', 't_registration.student_id')\r\n                    ->where('t_student.id', $id)\r\n                    ->first();\r\n        return view('admin.detail-register', compact('register'));\r\n    }\r\n\r\n    public function confirmRegister($id){\r\n        Registration::where('student_id', $id)->update(['status' => 1]);\r\n        $data = Student::find($id);\r\n        $user_data = User::create([\r\n            'student_id' => $id,\r\n            'name' => $data->nama_lengkap,\r\n            'email' => $data->email,\r\n            'role_name' => 'siswa',\r\n            'password' => Hash::make('Abcd1234'),\r\n        ]);\r\n\r\n        Mail::to($user_data->email)->send(new RegistrationMailNotif($user_data));\r\n\r\n        return $this->index();\r\n    }\r\n\r\n    public function downloadFile($filename){\r\n        $filePath = public_path('uploads/'.$filename);\r\n    \treturn response()->download($filePath);\r\n    }\r\n}\r\n"
        }
    ]
}