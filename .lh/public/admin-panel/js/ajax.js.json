{
    "sourceFile": "public/admin-panel/js/ajax.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1630791832018,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1630791837485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n         headers: {\r\n             'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n         }\r\n     });\r\n-    $.post(\"{{/manage-exam/add-course\", $(this).serialize(), function(data) {\r\n+    $.post(\"{{url(/manage-exam/add-course\", $(this).serialize(), function(data) {\r\n         if (data.status == \"exist\") {\r\n             Swal.fire(\r\n                 'Already Exist',\r\n                 data.course_name.toUpperCase() + ' Already Exist',\r\n"
                },
                {
                    "date": 1630791843361,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n         headers: {\r\n             'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n         }\r\n     });\r\n-    $.post(\"{{url(/manage-exam/add-course\", $(this).serialize(), function(data) {\r\n+    $.post(\"{{url('/manage-exam/add-course'\", $(this).serialize(), function(data) {\r\n         if (data.status == \"exist\") {\r\n             Swal.fire(\r\n                 'Already Exist',\r\n                 data.course_name.toUpperCase() + ' Already Exist',\r\n"
                },
                {
                    "date": 1630791849281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n         headers: {\r\n             'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n         }\r\n     });\r\n-    $.post(\"{{url('/manage-exam/add-course'\", $(this).serialize(), function(data) {\r\n+    $.post(\"{{url('/manage-exam/add-course')}}\", $(this).serialize(), function(data) {\r\n         if (data.status == \"exist\") {\r\n             Swal.fire(\r\n                 'Already Exist',\r\n                 data.course_name.toUpperCase() + ' Already Exist',\r\n"
                },
                {
                    "date": 1630792002377,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n         headers: {\r\n             'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n         }\r\n     });\r\n-    $.post(\"{{url('/manage-exam/add-course')}}\", $(this).serialize(), function(data) {\r\n+    $.post(\"/manage-exam/add-course\", $(this).serialize(), function(data) {\r\n         if (data.status == \"exist\") {\r\n             Swal.fire(\r\n                 'Already Exist',\r\n                 data.course_name.toUpperCase() + ' Already Exist',\r\n"
                }
            ],
            "date": 1630791832018,
            "name": "Commit-0",
            "content": "// Admin Log in\r\n$(document).on(\"submit\", \"#adminLoginFrm\", function() {\r\n    $.post(\"query/loginExe.php\", $(this).serialize(), function(data) {\r\n        if (data.res == \"invalid\") {\r\n            Swal.fire(\r\n                'Invalid',\r\n                'Please input valid username / password',\r\n                'error'\r\n            )\r\n        } else if (data.res == \"success\") {\r\n            $('body').fadeOut();\r\n            window.location.href = 'home.php';\r\n        }\r\n    }, 'json');\r\n\r\n    return false;\r\n});\r\n\r\n\r\n\r\n// Add Course \r\n$(document).on(\"submit\", \"#addCourseFrm\", function() {\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n    $.post(\"{{/manage-exam/add-course\", $(this).serialize(), function(data) {\r\n        if (data.status == \"exist\") {\r\n            Swal.fire(\r\n                'Already Exist',\r\n                data.course_name.toUpperCase() + ' Already Exist',\r\n                'error'\r\n            )\r\n        } else if (data.status == \"success\") {\r\n            Swal.fire(\r\n                    'Success',\r\n                    'Data Successfully Added',\r\n                    'success'\r\n                )\r\n                // $('#course_name').val(\"\");\r\n            refreshDiv();\r\n            $('#addCourseFrm')[0].reset();\r\n            $('#course_name').val(\"\");\r\n            $('#course_code').val(\"\");\r\n        }\r\n    }, 'json')\r\n    return false;\r\n});\r\n\r\n// Update Course\r\n$(document).on(\"submit\", \"#updateCourseFrm\", function() {\r\n    $.post(\"query/updateCourseExe.php\", $(this).serialize(), function(data) {\r\n        if (data.res == \"success\") {\r\n            Swal.fire(\r\n                'Success',\r\n                'Selected course has been successfully updated!',\r\n                'success'\r\n            )\r\n            refreshDiv();\r\n        }\r\n    }, 'json')\r\n    return false;\r\n});\r\n\r\n\r\n// Delete Course\r\n$(document).on(\"click\", \"#deleteCourse\", function(e) {\r\n    e.preventDefault();\r\n    var id = $(this).data(\"id\");\r\n    $.ajax({\r\n        type: \"post\",\r\n        url: \"query/deleteCourseExe.php\",\r\n        dataType: \"json\",\r\n        data: { id: id },\r\n        cache: false,\r\n        success: function(data) {\r\n            if (data.res == \"success\") {\r\n                Swal.fire(\r\n                    'Success',\r\n                    'Selected Course successfully deleted',\r\n                    'success'\r\n                )\r\n                refreshDiv();\r\n            }\r\n        },\r\n        error: function(xhr, ErrorStatus, error) {\r\n            console.log(status.error);\r\n        }\r\n\r\n    });\r\n\r\n\r\n\r\n    return false;\r\n});\r\n\r\n\r\n// Delete Exam\r\n$(document).on(\"click\", \"#deleteExam\", function(e) {\r\n    e.preventDefault();\r\n    var id = $(this).data(\"id\");\r\n    $.ajax({\r\n        type: \"post\",\r\n        url: \"query/deleteExamExe.php\",\r\n        dataType: \"json\",\r\n        data: { id: id },\r\n        cache: false,\r\n        success: function(data) {\r\n            if (data.res == \"success\") {\r\n                Swal.fire(\r\n                    'Success',\r\n                    'Selected Course successfully deleted',\r\n                    'success'\r\n                )\r\n                refreshDiv();\r\n            }\r\n        },\r\n        error: function(xhr, ErrorStatus, error) {\r\n            console.log(status.error);\r\n        }\r\n\r\n    });\r\n\r\n\r\n\r\n    return false;\r\n});\r\n\r\n\r\n\r\n// Add Exam \r\n$(document).on(\"submit\", \"#addExamFrm\", function() {\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n    $.post(\"add-or-update-exam\", $(this).serialize(), function(data) {\r\n        console.log(data.status);\r\n        if (data.res == \"noSelectedCourse\") {\r\n            Swal.fire(\r\n                'No Course',\r\n                'Please select course',\r\n                'error'\r\n            )\r\n        }\r\n        if (data.res == \"noSelectedTime\") {\r\n            Swal.fire(\r\n                'No Time Limit',\r\n                'Please select time limit',\r\n                'error'\r\n            )\r\n        }\r\n        if (data.res == \"noDisplayLimit\") {\r\n            Swal.fire(\r\n                'No Display Limit',\r\n                'Please input question display limit',\r\n                'error'\r\n            )\r\n        } else if (data.res == \"exist\") {\r\n            Swal.fire(\r\n                'Already Exist',\r\n                data.title + '<br>Already Exist',\r\n                'error'\r\n            )\r\n        } else if (data.status == \"success\") {\r\n            Swal.fire(\r\n                'Success',\r\n                data.data.title + '<br>Successfully Added',\r\n                'success'\r\n            )\r\n            $('#addExamFrm')[0].reset();\r\n            $('#course_name').val(\"\");\r\n            refreshDiv();\r\n        }\r\n    }, 'json')\r\n    return false;\r\n});\r\n\r\n\r\n\r\n// Update Exam \r\n$(document).on(\"submit\", \"#updateExamFrm\", function() {\r\n    $.post(\"query/updateExamExe.php\", $(this).serialize(), function(data) {\r\n        if (data.res == \"success\") {\r\n            Swal.fire(\r\n                'Update Successfully',\r\n                data.msg + ' <br>are now successfully updated',\r\n                'success'\r\n            )\r\n            refreshDiv();\r\n        } else if (data.res == \"failed\") {\r\n            Swal.fire(\r\n                \"Something's went wrong!\",\r\n                'Somethings went wrong',\r\n                'error'\r\n            )\r\n        }\r\n\r\n    }, 'json')\r\n    return false;\r\n});\r\n\r\n// Update Question\r\n$(document).on(\"submit\", \"#updateQuestionFrm\", function() {\r\n    $.post(\"query/updateQuestionExe.php\", $(this).serialize(), function(data) {\r\n        if (data.res == \"success\") {\r\n            Swal.fire(\r\n                'Success',\r\n                'Selected question has been successfully updated!',\r\n                'success'\r\n            )\r\n            refreshDiv();\r\n        }\r\n    }, 'json')\r\n    return false;\r\n});\r\n\r\n\r\n// Delete Question\r\n$(document).on(\"click\", \"#deleteQuestion\", function(e) {\r\n    e.preventDefault();\r\n    var id = $(this).data(\"id\");\r\n    $.ajax({\r\n        type: \"post\",\r\n        url: \"query/deleteQuestionExe.php\",\r\n        dataType: \"json\",\r\n        data: { id: id },\r\n        cache: false,\r\n        success: function(data) {\r\n            if (data.res == \"success\") {\r\n                Swal.fire(\r\n                    'Deleted Success',\r\n                    'Selected question successfully deleted',\r\n                    'success'\r\n                )\r\n                refreshDiv();\r\n            }\r\n        },\r\n        error: function(xhr, ErrorStatus, error) {\r\n            console.log(status.error);\r\n        }\r\n\r\n    });\r\n\r\n\r\n\r\n    return false;\r\n});\r\n\r\n\r\n//Add Question\r\n// $(document).on(\"submit\", \"#addQuestionFrm\", function() {\r\n//     $.ajaxSetup({\r\n//         headers: {\r\n//             'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n//         }\r\n//     });\r\n//     $.post(\"add-questions\", $(this).serialize(), function(data) {\r\n//         if (data.res == \"exist\") {\r\n//             Swal.fire(\r\n//                 'Already Exist',\r\n//                 data.msg + ' question <br>already exist in this exam',\r\n//                 'error'\r\n//             )\r\n//         } else if (data.res == \"success\") {\r\n//             Swal.fire(\r\n//                 'Success',\r\n//                 data.msg + ' question <br>Successfully added',\r\n//                 'success'\r\n//             )\r\n//             $('#addQuestionFrm')[0].reset();\r\n//             refreshDiv();\r\n//         }\r\n\r\n//     }, 'json')\r\n//     return false;\r\n// });\r\n\r\n$(document).on(\"submit\", \"#addQuestionFrm\", $(this).serialize(), function(e) {\r\n    e.preventDefault();\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n    var formData = $(this).serialize()\r\n    $.ajax({\r\n        type: \"post\",\r\n        url: \"add-questions\",\r\n        dataType: \"json\",\r\n        data: formData,\r\n        success: function(data) {\r\n            if (data.status == \"success\") {\r\n                Swal.fire(\r\n                    'Success',\r\n                    data.data.title + '<br>Successfully Added',\r\n                    'success'\r\n                )\r\n                $('#addQuestionFrm')[0].reset();\r\n                refreshDiv();\r\n            }\r\n        },\r\n        error: function(xhr, ErrorStatus, error) {\r\n            console.log(status.error);\r\n        }\r\n\r\n    });\r\n    return false;\r\n});\r\n\r\n// Add Examinee\r\n$(document).on(\"submit\", \"#addExamineeFrm\", function() {\r\n    $.post(\"query/addExamineeExe.php\", $(this).serialize(), function(data) {\r\n        if (data.res == \"noGender\") {\r\n            Swal.fire(\r\n                'No Gender',\r\n                'Please select gender',\r\n                'error'\r\n            )\r\n        } else if (data.res == \"noCourse\") {\r\n            Swal.fire(\r\n                'No Course',\r\n                'Please select course',\r\n                'error'\r\n            )\r\n        } else if (data.res == \"noLevel\") {\r\n            Swal.fire(\r\n                'No Year Level',\r\n                'Please select year level',\r\n                'error'\r\n            )\r\n        } else if (data.res == \"fullnameExist\") {\r\n            Swal.fire(\r\n                'Fullname Already Exist',\r\n                data.msg + ' are already exist',\r\n                'error'\r\n            )\r\n        } else if (data.res == \"emailExist\") {\r\n            Swal.fire(\r\n                'Email Already Exist',\r\n                data.msg + ' are already exist',\r\n                'error'\r\n            )\r\n        } else if (data.res == \"success\") {\r\n            Swal.fire(\r\n                'Success',\r\n                data.msg + ' are now successfully added',\r\n                'success'\r\n            )\r\n            refreshDiv();\r\n            $('#addExamineeFrm')[0].reset();\r\n        } else if (data.res == \"failed\") {\r\n            Swal.fire(\r\n                \"Something's Went Wrong\",\r\n                '',\r\n                'error'\r\n            )\r\n        }\r\n\r\n\r\n\r\n    }, 'json')\r\n    return false;\r\n});\r\n\r\n\r\n\r\n// Update Examinee\r\n$(document).on(\"submit\", \"#updateExamineeFrm\", function() {\r\n    $.post(\"query/updateExamineeExe.php\", $(this).serialize(), function(data) {\r\n        if (data.res == \"success\") {\r\n            Swal.fire(\r\n                'Success',\r\n                data.exFullname + ' <br>has been successfully updated!',\r\n                'success'\r\n            )\r\n            refreshDiv();\r\n        }\r\n    }, 'json')\r\n    return false;\r\n});\r\n\r\n// add announcement\r\n$(document).on(\"submit\", \"#addAnnouncementFrm\", $(this).serialize(), function(e) {\r\n    e.preventDefault();\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n    var formData = $(this).serialize()\r\n    $.ajax({\r\n        type: \"post\",\r\n        url: \"/announcement/add-announcement\",\r\n        dataType: \"json\",\r\n        data: formData,\r\n        success: function(data) {\r\n            if (data.status == \"success\") {\r\n                Swal.fire(\r\n                    'Success',\r\n                    data.data.title + '<br>Successfully Added',\r\n                    'success'\r\n                )\r\n                $('#addQuestionFrm')[0].reset();\r\n                refreshDiv();\r\n            }\r\n        },\r\n        error: function(xhr, ErrorStatus, error) {\r\n            console.log(status.error);\r\n        }\r\n\r\n    });\r\n    return false;\r\n});\r\n\r\nfunction refreshDiv() {\r\n    $('#tableList').load(document.URL + ' #tableList');\r\n    $('#refreshData').load(document.URL + ' #refreshData');\r\n\r\n}\r\n\r\n// Submit Answer\r\n$(document).on('submit', '#submitAnswerFrm', function() {\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n    var examAction = $('#examAction').val();\r\n\r\n    if (examAction != \"\") {\r\n        Swal.fire({\r\n            title: 'Time Out',\r\n            text: \"your time is over, please click ok\",\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            allowOutsideClick: false,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'OK!'\r\n        }).then((result) => {\r\n            if (result.value) {\r\n\r\n                $.post(\"/start-exam/submit-exam\", $(this).serialize(), function(data) {\r\n\r\n                    if (data.res == \"alreadyTaken\") {\r\n                        Swal.fire(\r\n                            'Already Taken',\r\n                            \"you already take this exam\",\r\n                            'error'\r\n                        )\r\n                    } else if (data.res == \"success\") {\r\n                        Swal.fire({\r\n                            title: 'Success',\r\n                            text: \"your answer successfully submitted!\",\r\n                            icon: 'success',\r\n                            allowOutsideClick: false,\r\n                            confirmButtonColor: '#3085d6',\r\n                            confirmButtonText: 'OK!'\r\n                        }).then((result) => {\r\n                            if (result.value) {\r\n                                $('#submitAnswerFrm')[0].reset();\r\n                                var exam_id = $('#exam_id').val();\r\n                                window.location.href = '/start-exam/submit-exam/result/' + exam_id;\r\n                            }\r\n\r\n                        });\r\n\r\n\r\n                    } else if (data.res == \"failed\") {\r\n                        Swal.fire(\r\n                            'Error',\r\n                            \"Something;s went wrong\",\r\n                            'error'\r\n                        )\r\n                    }\r\n\r\n                }, 'json');\r\n\r\n            }\r\n        });\r\n    } else {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"you want to submit your answer now?\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            allowOutsideClick: false,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, submit now!'\r\n        }).then((result) => {\r\n            if (result.value) {\r\n\r\n                $.post(\"/start-exam/submit-exam\", $(this).serialize(), function(data) {\r\n\r\n                    if (data.res == \"alreadyTaken\") {\r\n                        Swal.fire(\r\n                            'Already Taken',\r\n                            \"you already take this exam\",\r\n                            'error'\r\n                        )\r\n                    } else if (data.res == \"success\") {\r\n                        Swal.fire({\r\n                            title: 'Success',\r\n                            text: \"your answer successfully submitted!\",\r\n                            icon: 'success',\r\n                            allowOutsideClick: false,\r\n                            confirmButtonColor: '#3085d6',\r\n                            confirmButtonText: 'OK!'\r\n                        }).then((result) => {\r\n                            if (result.value) {\r\n                                $('#submitAnswerFrm')[0].reset();\r\n                                var exam_id = $('#exam_id').val();\r\n                                window.location.href = '/start-exam/submit-exam/result/' + exam_id;\r\n                            }\r\n\r\n                        });\r\n\r\n\r\n                    } else if (data.res == \"failed\") {\r\n                        Swal.fire(\r\n                            'Error',\r\n                            \"Something;s went wrong\",\r\n                            'error'\r\n                        )\r\n                    }\r\n\r\n                }, 'json');\r\n\r\n            }\r\n        });\r\n    }\r\n    return false;\r\n});"
        }
    ]
}